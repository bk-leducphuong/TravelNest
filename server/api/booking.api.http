### Booking API Test Requests
### RESTful API endpoints following RESTful standards
### 
### Prerequisites:
### 1. Make sure the server is running (default: http://localhost:3000)
### 2. You need to be authenticated (session cookie required)
### 3. For authentication, you may need to login first via /api/auth endpoints

@baseUrl = http://localhost:3000
@contentType = application/json

### Variables (update these with your actual values)
@bookingId = 1
@bookingCode = ABC123
@sessionCookie = your-session-cookie-here

###############################################
### BOOKINGS RESOURCE
###############################################

### GET /api/bookings
### Get all bookings for authenticated user
### Query params: includeCancelled (boolean, default: false)
GET {{baseUrl}}/api/bookings
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/bookings (Include cancelled bookings)
### Get all bookings including cancelled ones
GET {{baseUrl}}/api/bookings?includeCancelled=true
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/bookings/:bookingId
### Get a specific booking by ID
GET {{baseUrl}}/api/bookings/{{bookingId}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/bookings/:bookingId (Invalid - booking not found)
### Should return 404 Not Found
GET {{baseUrl}}/api/bookings/99999
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/bookings/code/:bookingCode
### Get booking by booking code
GET {{baseUrl}}/api/bookings/code/{{bookingCode}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/bookings/code/:bookingCode (Invalid - booking not found)
### Should return 404 Not Found
GET {{baseUrl}}/api/bookings/code/INVALID
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### DELETE /api/bookings/:bookingId
### Cancel a booking
### Query params: processRefund (boolean, default: false)
### Note: Returns 204 No Content (no response body)
DELETE {{baseUrl}}/api/bookings/{{bookingId}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### DELETE /api/bookings/:bookingId (With refund)
### Cancel a booking and process refund
DELETE {{baseUrl}}/api/bookings/{{bookingId}}?processRefund=true
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### DELETE /api/bookings/:bookingId (Invalid - booking not found)
### Should return 404 Not Found
DELETE {{baseUrl}}/api/bookings/99999
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

###############################################
### AUTHENTICATION TEST
###############################################

### GET /api/bookings (Unauthenticated)
### Should return 401 Unauthorized if not authenticated
GET {{baseUrl}}/api/bookings
Content-Type: {{contentType}}

###

###############################################
### ERROR RESPONSE EXAMPLES
###############################################

### Expected Success Response Format:
### {
###   "data": { ... }
### }
###
### Expected Error Response Format:
### {
###   "error": {
###     "code": "ERROR_CODE",
###     "message": "Human readable message",
###     "fields": { ... }  // Optional, for validation errors
###   }
### }
