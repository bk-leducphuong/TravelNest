### Admin Dashboard API Test Requests
### RESTful API endpoints for admin dashboard analytics
### 
### Prerequisites:
### 1. Make sure the server is running (default: http://localhost:3000)
### 2. You need to be authenticated as admin/partner (session cookie required)
### 3. For authentication, login via /api/auth endpoints with partner role

@baseUrl = http://localhost:3000
@contentType = application/json

### Variables (update these with your actual values)
@hotelId = 1
@startDate = 2026-01-01
@endDate = 2026-01-31
@currentWeekStart = 2026-01-06
@currentWeekEnd = 2026-01-12
@previousWeekStart = 2025-12-30
@previousWeekEnd = 2026-01-05
@sessionCookie = your-session-cookie-here

###############################################
### DASHBOARD OVERVIEW
###############################################

### GET /api/admin/dashboard/overview
### Get complete dashboard overview with all statistics
### This endpoint returns all dashboard data in a single call
GET {{baseUrl}}/api/admin/dashboard/overview?hotelId={{hotelId}}&startDate={{startDate}}&endDate={{endDate}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

###############################################
### BOOKINGS STATISTICS
###############################################

### GET /api/admin/dashboard/bookings/total
### Get total bookings count for a hotel in a time period
GET {{baseUrl}}/api/admin/dashboard/bookings/total?hotelId={{hotelId}}&startDate={{startDate}}&endDate={{endDate}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/admin/dashboard/bookings/total (Current month)
### Get total bookings for current month
GET {{baseUrl}}/api/admin/dashboard/bookings/total?hotelId={{hotelId}}&startDate=2026-01-01&endDate=2026-01-31
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

###############################################
### REVENUE STATISTICS
###############################################

### GET /api/admin/dashboard/revenue/stats
### Get revenue statistics for a hotel
### Returns: totalRevenue, averageRevenue, invoiceCount
GET {{baseUrl}}/api/admin/dashboard/revenue/stats?hotelId={{hotelId}}&startDate={{startDate}}&endDate={{endDate}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/admin/dashboard/revenue/daily
### Get daily revenue chart data
### Returns array of daily revenue data with date, revenue, and count
GET {{baseUrl}}/api/admin/dashboard/revenue/daily?hotelId={{hotelId}}&startDate={{startDate}}&endDate={{endDate}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/admin/dashboard/revenue/weekly-change
### Calculate weekly revenue change
### Compares current week with previous week
GET {{baseUrl}}/api/admin/dashboard/revenue/weekly-change?hotelId={{hotelId}}&currentWeekStart={{currentWeekStart}}&currentWeekEnd={{currentWeekEnd}}&previousWeekStart={{previousWeekStart}}&previousWeekEnd={{previousWeekEnd}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

###############################################
### ROOM STATISTICS
###############################################

### GET /api/admin/dashboard/rooms/bookings
### Get room booking statistics
### Returns booking count and revenue per room
GET {{baseUrl}}/api/admin/dashboard/rooms/bookings?hotelId={{hotelId}}&startDate={{startDate}}&endDate={{endDate}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

###############################################
### CUSTOMER STATISTICS
###############################################

### GET /api/admin/dashboard/customers/new
### Get new customers for a hotel in a time period
### Returns first-time bookers during the period
GET {{baseUrl}}/api/admin/dashboard/customers/new?hotelId={{hotelId}}&startDate={{startDate}}&endDate={{endDate}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

###############################################
### AUTHENTICATION TEST
###############################################

### GET /api/admin/dashboard/overview (Unauthenticated)
### Should return 401 Unauthorized if not authenticated
GET {{baseUrl}}/api/admin/dashboard/overview?hotelId={{hotelId}}&startDate={{startDate}}&endDate={{endDate}}
Content-Type: {{contentType}}

###

### GET /api/admin/dashboard/overview (Unauthorized - not hotel owner)
### Should return 403 Forbidden if not hotel owner
GET {{baseUrl}}/api/admin/dashboard/overview?hotelId=99999&startDate={{startDate}}&endDate={{endDate}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

###############################################
### VALIDATION ERROR EXAMPLES
###############################################

### GET /api/admin/dashboard/bookings/total (Missing hotelId)
### Should return 400 Bad Request
GET {{baseUrl}}/api/admin/dashboard/bookings/total?startDate={{startDate}}&endDate={{endDate}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/admin/dashboard/bookings/total (Missing dates)
### Should return 400 Bad Request
GET {{baseUrl}}/api/admin/dashboard/bookings/total?hotelId={{hotelId}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/admin/dashboard/bookings/total (Invalid date range)
### Should return 400 Bad Request (endDate before startDate)
GET {{baseUrl}}/api/admin/dashboard/bookings/total?hotelId={{hotelId}}&startDate={{endDate}}&endDate={{startDate}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/admin/dashboard/revenue/weekly-change (Missing parameters)
### Should return 400 Bad Request
GET {{baseUrl}}/api/admin/dashboard/revenue/weekly-change?hotelId={{hotelId}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

###############################################
### RESPONSE FORMAT EXAMPLES
###############################################

### Expected Success Response Format:
### {
###   "data": {
###     "totalBookings": 42,
###     "period": {
###       "startDate": "2026-01-01",
###       "endDate": "2026-01-31"
###     }
###   }
### }
###
### For overview endpoint:
### {
###   "data": {
###     "period": { ... },
###     "bookings": { ... },
###     "revenue": { ... },
###     "rooms": [ ... ],
###     "customers": { ... }
###   }
### }
###
### Expected Error Response Format:
### {
###   "success": false,
###   "message": "Error description",
###   "code": "ERROR_CODE"
### }
