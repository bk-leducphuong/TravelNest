### Admin Notification API Test Requests
### RESTful API endpoints for admin notification management
### 
### Prerequisites:
### 1. Make sure the server is running (default: http://localhost:3000)
### 2. You need to be authenticated as admin/partner (session cookie required)
### 3. For authentication, login via /api/auth endpoints with partner role

@baseUrl = http://localhost:3000
@contentType = application/json

### Variables (update these with your actual values)
@hotelId = 1
@notificationId = 1
@sessionCookie = your-session-cookie-here

###############################################
### NOTIFICATIONS RESOURCE
###############################################

### GET /api/admin/notifications
### Get all notifications for a specific hotel
### Query params: hotelId (required), isRead (optional), page (default: 1), limit (default: 20)
GET {{baseUrl}}/api/admin/notifications?hotelId={{hotelId}}&page=1&limit=20
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/admin/notifications (Unread only)
### Get only unread notifications
GET {{baseUrl}}/api/admin/notifications?hotelId={{hotelId}}&isRead=false&page=1&limit=20
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/admin/notifications (Read only)
### Get only read notifications
GET {{baseUrl}}/api/admin/notifications?hotelId={{hotelId}}&isRead=true&page=1&limit=20
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/admin/notifications/:notificationId
### Get a specific notification by ID
GET {{baseUrl}}/api/admin/notifications/{{notificationId}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/admin/notifications/:notificationId (Invalid - notification not found)
### Should return 404 Not Found
GET {{baseUrl}}/api/admin/notifications/99999
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### PATCH /api/admin/notifications/:notificationId/read
### Mark a specific notification as read
PATCH {{baseUrl}}/api/admin/notifications/{{notificationId}}/read
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### PATCH /api/admin/notifications/read-all
### Mark all notifications as read for a hotel
PATCH {{baseUrl}}/api/admin/notifications/read-all
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

{
  "hotelId": {{hotelId}}
}

###

### DELETE /api/admin/notifications/:notificationId
### Delete a notification
DELETE {{baseUrl}}/api/admin/notifications/{{notificationId}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

###############################################
### AUTHENTICATION TEST
###############################################

### GET /api/admin/notifications (Unauthenticated)
### Should return 401 Unauthorized if not authenticated
GET {{baseUrl}}/api/admin/notifications?hotelId={{hotelId}}
Content-Type: {{contentType}}

###

### GET /api/admin/notifications (Unauthorized - not hotel owner)
### Should return 403 Forbidden if not hotel owner
GET {{baseUrl}}/api/admin/notifications?hotelId=99999
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

###############################################
### VALIDATION ERROR EXAMPLES
###############################################

### GET /api/admin/notifications (Missing hotelId)
### Should return 400 Bad Request
GET {{baseUrl}}/api/admin/notifications
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### PATCH /api/admin/notifications/read-all (Missing hotelId)
### Should return 400 Bad Request
PATCH {{baseUrl}}/api/admin/notifications/read-all
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

{
}

###

### PATCH /api/admin/notifications/read-all (Invalid hotelId)
### Should return 400 Bad Request
PATCH {{baseUrl}}/api/admin/notifications/read-all
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

{
  "hotelId": "invalid"
}

###

###############################################
### RESPONSE FORMAT EXAMPLES
###############################################

### Expected Success Response Format:
### {
###   "data": {
###     "notifications": [ ... ],
###     "unreadCount": 5,
###     "pagination": {
###       "total": 20,
###       "page": 1,
###       "totalPages": 1,
###       "limit": 20
###     }
###   }
### }
###
### For mark all as read:
### {
###   "data": {
###     "updatedCount": 10,
###     "message": "Marked 10 notification(s) as read"
###   }
### }
###
### Expected Error Response Format:
### {
###   "success": false,
###   "message": "Error description",
###   "code": "ERROR_CODE"
### }
