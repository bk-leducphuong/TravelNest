### Home API Test Requests
### RESTful API endpoints following RESTful standards
### 
### Prerequisites:
### 1. Make sure the server is running (default: http://localhost:3000)
### 2. Some endpoints are public, others require authentication
### 3. For authentication, you may need to login first via /api/auth endpoints

@baseUrl = http://localhost:3000
@contentType = application/json

### Variables (update these with your actual values)
@hotelId = 1
@searchId = 1
@sessionCookie = your-session-cookie-here

###############################################
### RECENT VIEWED HOTELS RESOURCE
###############################################

### GET /api/home/recent-viewed-hotels
### Get recent viewed hotels (optional authentication)
### Query params: hotelIds (JSON array, for non-authenticated users)
### Note: If authenticated, returns user's recent viewed hotels. If not, requires hotelIds query param.
GET {{baseUrl}}/api/home/recent-viewed-hotels
Content-Type: {{contentType}}

###

### GET /api/home/recent-viewed-hotels (With hotelIds - non-authenticated)
### Get recent viewed hotels by IDs (for non-authenticated users)
GET {{baseUrl}}/api/home/recent-viewed-hotels?hotelIds=[1,2,3]
Content-Type: {{contentType}}

###

### GET /api/home/recent-viewed-hotels (Authenticated)
### Get authenticated user's recent viewed hotels
GET {{baseUrl}}/api/home/recent-viewed-hotels
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### POST /api/home/recent-viewed-hotels
### Record a hotel view (authenticated)
POST {{baseUrl}}/api/home/recent-viewed-hotels
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

{
  "hotelId": {{hotelId}}
}

###

### POST /api/home/recent-viewed-hotels (Invalid - missing hotelId)
### Should return 400 Bad Request
POST {{baseUrl}}/api/home/recent-viewed-hotels
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

{}

###

### POST /api/home/recent-viewed-hotels (Invalid - invalid hotelId)
### Should return 400 Bad Request
POST {{baseUrl}}/api/home/recent-viewed-hotels
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

{
  "hotelId": -1
}

###

###############################################
### RECENT SEARCHES RESOURCE
###############################################

### GET /api/home/recent-searches
### Get recent searches (authenticated)
### Query params: limit (default: 10, max: 50)
GET {{baseUrl}}/api/home/recent-searches
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/home/recent-searches (With custom limit)
### Get recent searches with custom limit
GET {{baseUrl}}/api/home/recent-searches?limit=20
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/home/recent-searches (Invalid - limit too high)
### Should return 400 Bad Request (limit max is 50)
GET {{baseUrl}}/api/home/recent-searches?limit=100
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### DELETE /api/home/recent-searches/:searchId
### Remove a recent search (authenticated)
### Note: Returns 204 No Content (no response body)
DELETE {{baseUrl}}/api/home/recent-searches/{{searchId}}
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### DELETE /api/home/recent-searches/:searchId (Invalid - search not found)
### Should return 404 Not Found
DELETE {{baseUrl}}/api/home/recent-searches/99999
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

###############################################
### POPULAR PLACES RESOURCE
###############################################

### GET /api/home/popular-places
### Get popular places (public)
### Query params: limit (default: 5, max: 20)
GET {{baseUrl}}/api/home/popular-places
Content-Type: {{contentType}}

###

### GET /api/home/popular-places (With custom limit)
### Get popular places with custom limit
GET {{baseUrl}}/api/home/popular-places?limit=10
Content-Type: {{contentType}}

###

### GET /api/home/popular-places (Invalid - limit too high)
### Should return 400 Bad Request (limit max is 20)
GET {{baseUrl}}/api/home/popular-places?limit=50
Content-Type: {{contentType}}

###

###############################################
### NEARBY HOTELS RESOURCE
###############################################

### GET /api/home/nearby-hotels
### Get nearby hotels based on coordinates (public)
### Query params: latitude, longitude, radius (default: 6, max: 100)
GET {{baseUrl}}/api/home/nearby-hotels?latitude=40.7128&longitude=-74.0060
Content-Type: {{contentType}}

###

### GET /api/home/nearby-hotels (With custom radius)
### Get nearby hotels with custom radius (in km)
GET {{baseUrl}}/api/home/nearby-hotels?latitude=40.7128&longitude=-74.0060&radius=10
Content-Type: {{contentType}}

###

### GET /api/home/nearby-hotels (Invalid - missing latitude)
### Should return 400 Bad Request
GET {{baseUrl}}/api/home/nearby-hotels?longitude=-74.0060
Content-Type: {{contentType}}

###

### GET /api/home/nearby-hotels (Invalid - invalid coordinates)
### Should return 400 Bad Request
GET {{baseUrl}}/api/home/nearby-hotels?latitude=100&longitude=-200
Content-Type: {{contentType}}

###

### GET /api/home/nearby-hotels (Invalid - radius too high)
### Should return 400 Bad Request (radius max is 100)
GET {{baseUrl}}/api/home/nearby-hotels?latitude=40.7128&longitude=-74.0060&radius=200
Content-Type: {{contentType}}

###

###############################################
### TOP RATED HOTELS RESOURCE
###############################################

### GET /api/home/top-rated-hotels
### Get top rated hotels (public)
### Query params: limit (default: 10, max: 50), minRating (default: 4, range: 0-5), minReviews (default: 5)
GET {{baseUrl}}/api/home/top-rated-hotels
Content-Type: {{contentType}}

###

### GET /api/home/top-rated-hotels (With custom parameters)
### Get top rated hotels with custom parameters
GET {{baseUrl}}/api/home/top-rated-hotels?limit=20&minRating=4.5&minReviews=10
Content-Type: {{contentType}}

###

### GET /api/home/top-rated-hotels (Invalid - invalid minRating)
### Should return 400 Bad Request (minRating must be between 0 and 5)
GET {{baseUrl}}/api/home/top-rated-hotels?minRating=6
Content-Type: {{contentType}}

###

###############################################
### RECENTLY VIEWED HOTELS RESOURCE
###############################################

### GET /api/home/recently-viewed-hotels
### Get recently viewed hotels with full details (authenticated)
### Query params: limit (default: 10, max: 50)
GET {{baseUrl}}/api/home/recently-viewed-hotels
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/home/recently-viewed-hotels (With custom limit)
### Get recently viewed hotels with custom limit
GET {{baseUrl}}/api/home/recently-viewed-hotels?limit=20
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

### GET /api/home/recently-viewed-hotels (Invalid - limit too high)
### Should return 400 Bad Request (limit max is 50)
GET {{baseUrl}}/api/home/recently-viewed-hotels?limit=100
Content-Type: {{contentType}}
Cookie: connect.sid={{sessionCookie}}

###

###############################################
### POPULAR DESTINATIONS RESOURCE
###############################################

### GET /api/home/popular-destinations
### Get popular destinations (public)
### Query params: limit (default: 10, max: 50), minHotels (default: 5)
GET {{baseUrl}}/api/home/popular-destinations
Content-Type: {{contentType}}

###

### GET /api/home/popular-destinations (With custom parameters)
### Get popular destinations with custom parameters
GET {{baseUrl}}/api/home/popular-destinations?limit=20&minHotels=10
Content-Type: {{contentType}}

###

### GET /api/home/popular-destinations (Invalid - invalid minHotels)
### Should return 400 Bad Request (minHotels must be at least 1)
GET {{baseUrl}}/api/home/popular-destinations?minHotels=0
Content-Type: {{contentType}}

###

###############################################
### TRENDING HOTELS RESOURCE
###############################################

### GET /api/home/trending-hotels
### Get trending hotels (public)
### Query params: limit (default: 10, max: 50), days (default: 30, max: 365)
GET {{baseUrl}}/api/home/trending-hotels
Content-Type: {{contentType}}

###

### GET /api/home/trending-hotels (With custom parameters)
### Get trending hotels with custom parameters
GET {{baseUrl}}/api/home/trending-hotels?limit=20&days=7
Content-Type: {{contentType}}

###

### GET /api/home/trending-hotels (Invalid - days too high)
### Should return 400 Bad Request (days max is 365)
GET {{baseUrl}}/api/home/trending-hotels?days=500
Content-Type: {{contentType}}

###

###############################################
### AUTHENTICATION TEST
###############################################

### GET /api/home/popular-places (Public - no authentication required)
### This endpoint is public and should work without authentication
GET {{baseUrl}}/api/home/popular-places
Content-Type: {{contentType}}

###

### GET /api/home/recent-searches (Unauthenticated)
### Should return 401 Unauthorized if not authenticated
GET {{baseUrl}}/api/home/recent-searches
Content-Type: {{contentType}}

###

###############################################
### ERROR RESPONSE EXAMPLES
###############################################

### Expected Success Response Format:
### {
###   "data": [ ... ]
### }
###
### Expected Error Response Format:
### {
###   "error": {
###     "code": "ERROR_CODE",
###     "message": "Human readable message",
###     "fields": { ... }  // Optional, for validation errors
###   }
### }
